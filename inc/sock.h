int sock_gen(int port,void*self,void(*func)(void*,const char*,size_t,int),int dump);
